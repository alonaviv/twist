{% extends 'base.html' %}

{% load static %}

{% block content %}

<div id="login-hero">
    <div id="login-back">
        <i class="fa-solid fa-circle-left"></i>
    </div>
    <div id="login-wrapper">
        <div id="login-title">
            <a href={% url 'login' %}><h1>Broadway<br>With a Twist</h1></a>
        </div>
        {% if evening_started %}
        <h3>Let's get this party started!</h3>
        <div class="form-messages"></div>
        <div id="ticket-selection-wrapper">
            <h2>What ticket do you have?</h2>
            <button value="singer" class="ticket-button">Singer</button>
            <button value="audience" class="ticket-button">Audience</button>
        </div>
         <div id="audience-login-wrapper" class="login-form-wrapper">
            <h2 class="login-form-title">You're logging in as <br><span class="text-secondary">AUDIENCE</span></h2>
            <form action="" method="POST" id="audience-login-form" autocomplete="off" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" name="ticket-type" value="audience">
                <div class="form-control">
                    <input type="text" name="first-name" id="first-name" placeholder="First Name" autocomplete="off" required>
                </div>
                <div class="form-control">
                    <input type="text" name="last-name" id="last-name" placeholder="Last Name" autocomplete="off" required>
                </div>
                <div class="form-control">
                    <input type="text" name="passcode" id="passcode" placeholder="Tonight's Secret Word" autocomplete="off" required>
                </div>
                <div class="form-control">
                    <input type="text" name="order-id" id="order-id" placeholder="Order Number (on your ticket)" autocomplete="off" required>
                </div>
                <div class="checkboxes">
                    <div class="checkbox">
                        <input type="checkbox" name="logged-in" id="logged-in-audience">
                        <label for="logged-in-audience">I already logged in tonight</label>
                    </div>
                    <div class="checkbox">
                        <input type="checkbox" name="no-upload" id="no-upload-audience">
                        <label for="no-upload-audience">Don't post videos of me</label>
                    </div>
                </div>
                <div class="form-control image-upload hidden" id="audience-image-upload-wrapper">
                    <p class="upload-title">Please upload your photo so we can avoid videos with you:<p>
                    <div class="upload-buttons">
                        <div class="upload-button">
                            <label for="audience-upload-image">Upload photo</label>
                            <input type="file" class="upload-image-button" id="audience-upload-image" name="upload-image" accept="image/*">
                        </div>
                        <div class="upload-button">
                            <label for="audience-upload-selfie">Take a selfie</label>
                            <input type="file" class="upload-image-button" id="audience-upload-selfie" name="upload-selfie" accept="image/*" capture="user">
                        </div>
                    </div>
                </div>
                <input type="submit" value="Come on in!" class="login-btn">
            </form>
        </div>

        <div id="singer-login-wrapper" class="login-form-wrapper" >
            <h2 class="login-form-title">You're logging in as a <br><span class="text-primary">SINGER</span></h2>
            <form action="" method="POST" id="singer-login-form" autocomplete="off">
               {% csrf_token %}
                <input autocomplete="false" name="hidden" type="text" style="display:none;">

                <input type="hidden" name="ticket-type" value="singer">

                <div class="form-control">
                    <input type="text" name="first-name" id="first-name" placeholder="First Name" autocomplete="off" required>
                </div>
                <div class="form-control">
                    <input type="text" name="last-name" id="last-name" placeholder="Last Name" autocomplete="off" required>
                </div>
                <div class="form-control">
                    <input type="text" name="passcode" id="passcode" placeholder="Tonight's Secret Word" autocomplete="off" required>
                </div>
                <div class="form-control">
                    <input type="text" name="order-id" id="order-id" placeholder="Order Number (on your ticket)" autocomplete="off" required>
                </div>
                <div class="checkboxes">
                    <div class="checkbox">
                        <input type="checkbox" name="logged-in" id="logged-in-singer">
                        <label for="logged-in-singer">I already logged in tonight</label>
                    </div>
                    <div class="checkbox">
                        <input type="checkbox" name="no-upload" id="no-upload-singer">
                        <label for="no-upload-singer">Don't post videos of me</label>
                    </div>
                </div>
                <div class="form-control image-upload hidden" id="singer-image-upload-wrapper">
                    <p class="upload-title">Please upload your photo so we can avoid videos of you:<p>
                    <div class="upload-buttons">
                        <div class="upload-button">
                            <label for="singer-upload-image">Upload photo</label>
                            <input type="file" class="upload-image-button" id="singer-upload-image" name="upload-image" accept="image/*">
                        </div>
                        <div class="upload-button">
                            <label for="singer-upload-selfie">Take a selfie</label>
                            <input type="file" class="upload-image-button" id="singer-upload-selfie" name="upload-selfie" accept="image/*" capture="user">
                        </div>
                    </div>
                </div>

                <input type="submit" value="Come on in!" class="login-btn">
            </form>
        </div>
        {% else %}
        <div id="not-started-wrapper">
            <div id="not-started-message">
                <p>Tonight's Event Hasn't Started Yet</p>
            </div>
            <div id="login-icons">
                <div id="login-whatsapp">
                    <a href="https://links.broadwaywithatwist.xyz/whatsapp?utm_source=login-page-locked&utm_campaign=webapp&utm_content=login-page-whatsapp-when-locked"><i class="fa-brands fa-whatsapp"></i> When's the next one?</a>
                </div>
                <div id="login-social">
                    <div id="login-facebook">
                        <a href="https://www.facebook.com/groups/763859465058650/"><i class="fa-brands fa-facebook"></i></a>
                    </div>
                    <div id="login-instagram">
                        <a href="https://www.instagram.com/bwtisrael/" id="navbar-instagram"><i class="fa-brands fa-instagram"></i></a>
                        <a href="https://www.instagram.com/bwtisrael/" id="navbar-instagram"></a>
                    </div>
                </div>
            </div>
        </div>

        {% endif %}
    </div>
</div>

<script src="{% static "js/login.js" %}"></script>
{% endblock %}
